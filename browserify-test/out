
==========================

{ id: 1,
  source: 'module.exports = {\n  write: function(content) {\n    console.log(\'DB writing content: \' + content);\n  }\n};\n',
  deps: {},
  entry: false,
  hash: 'wUMJRG',
  index: 1,
  indexDeps: {} }

==========================

{ id: 2,
  source: 'var db = require(\'./db\');\nconsole.log(\'database\', db);\n\nvar content = \'\';\n\nmodule.exports = {\n    write: function(s) {\n      content += s;\n    },\n    save: function() {\n      db.write(content);\n    }\n};\n',
  deps: { './db': 1 },
  entry: false,
  hash: 'VBx5rM',
  index: 2,
  indexDeps: { './db': 1 } }

==========================

{ id: 3,
  source: '//require(\'../src/notebook\');\n\nvar callCount = 0;\n\n// TODO NOPE, back to the drawing board. Shouldn\'t have to load a module\n//      in order to mock it.\nvar db = require(\'../src/db\');\ndb.__mock__ = {\n    mock: \'mock\',\n    write: function() {\n      callCount += 1;\n      console.log(\'stubbed\');\n    }\n};\n\nvar notebook = require(\'../src/notebook\');\n\nnotebook.save();\nconsole.log(callCount);\nnotebook.save();\nconsole.log(callCount);\n\ndb.__mock__ = undefined;\n// TODO this works ok....I think...\n//notebook.__clear__();\n\n// TODO this doesn\'t work because this happens mid-load:\n//      we\'re still processing the initial newRequire(entry[i])\n//      calls when one of the entries calls clear, which\n//      deletes the cache out from under the other modules\n//      being loaded.\nrequire.__clear__();\n\n// TODO this doesn\'t work because \'../src/notebook\' is cached\n//      so it doesn\'t require the db again. in order to do this right,\n//      you\'d have to clear the notebook cache. it might be easier to\n//      just clear everything? but that\'s a bit extreme\nvar notebook = require(\'../src/notebook\');\nnotebook.save();\nconsole.log(callCount);\n',
  deps: { '../src/notebook': 2, '../src/db': 1 },
  entry: false,
  hash: 'fKRMMQ',
  index: 3,
  indexDeps: { '../src/notebook': 2, '../src/db': 1 } }

==========================

{ id: 4,
  source: '// TODO find a way to automate this list\nrequire(\'./notebook.js\');\n',
  deps: { './notebook.js': 3 },
  entry: true,
  order: 0,
  hash: 'kQ3f14',
  index: 4,
  indexDeps: { './notebook.js': 3 } }
